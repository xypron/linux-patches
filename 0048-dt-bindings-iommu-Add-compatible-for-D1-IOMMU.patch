From 878f42d65df99e681700a7fb8db7ac59d32c448e Mon Sep 17 00:00:00 2001
From: Samuel Holland <samuel@sholland.org>
Date: Sun, 6 Jun 2021 10:20:38 -0500
Subject: [PATCH 048/120] dt-bindings: iommu: Add compatible for D1 IOMMU

Signed-off-by: Samuel Holland <samuel@sholland.org>
---
 .../bindings/iommu/allwinner,sun50i-h6-iommu.yaml | 15 +++++++++++++--
 1 file changed, 13 insertions(+), 2 deletions(-)

diff --git a/Documentation/devicetree/bindings/iommu/allwinner,sun50i-h6-iommu.yaml b/Documentation/devicetree/bindings/iommu/allwinner,sun50i-h6-iommu.yaml
index 5e125cf2a88b..613fc4197cc6 100644
--- a/Documentation/devicetree/bindings/iommu/allwinner,sun50i-h6-iommu.yaml
+++ b/Documentation/devicetree/bindings/iommu/allwinner,sun50i-h6-iommu.yaml
@@ -17,7 +17,9 @@ properties:
       The content of the cell is the master ID.
 
   compatible:
-    const: allwinner,sun50i-h6-iommu
+    oneOf:
+      const: allwinner,sun20i-d1-iommu
+      const: allwinner,sun50i-h6-iommu
 
   reg:
     maxItems: 1
@@ -37,7 +39,16 @@ required:
   - reg
   - interrupts
   - clocks
-  - resets
+
+if:
+  properties:
+    compatible:
+      enum:
+        - allwinner,sun50i-h6-iommu
+
+then:
+  required:
+    - resets
 
 additionalProperties: false
 
-- 
2.32.0

